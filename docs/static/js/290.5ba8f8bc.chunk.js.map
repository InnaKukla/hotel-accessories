{"version":3,"file":"static/js/290.5ba8f8bc.chunk.js","mappings":"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","sources":["redux/products/products-selectors.js","components/Catalog/Catalog.jsx","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["export const selectProducts = state => state.products.productsList;\nexport const selectOneProduct = state => state.products.oneProduct;\nexport const selectProductsTotal = state => state.products.total;\nexport const selectProductsTotalPages = state => state.products.totalPages;\nexport const selectCurrentPage = state => state.products.currentPage;\nexport const selectProductsLoading = state => state.products.isLoading;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSearchParams } from \"react-router\";\n\nimport productsOperations from \"../../redux/products/products-operations\";\nimport {\n  selectCurrentPage,\n  selectProducts,\n  selectProductsLoading,\n  selectProductsTotalPages,\n} from \"../../redux/products/products-selectors\";\nimport {\n  CatalogSection,\n  CatalogWrapper,\n  CatalogHeader,\n  CatalogMainText,\n  CatalogLine,\n  CatalogAll,\n  CatalogFilterList,\n  CatalogFilterButton,\n  CatalogProductsList,\n  CatalogProductsItem,\n  CatalogProductsItemWrap,\n  CatalogProductsItemTextWrap,\n  CatalogProductsItemTextCode,\n  CatalogProductsItemTextName,\n  CatalogProductsItemTextPrice,\n  CatalogProductsBuyWrap,\n  CatalogProductsPagination,\n  ContainerCatalog,\n} from \"./Catalog.styled\";\n\nimport Trolley from \"../../assets/icons/trolley.svg\";\nimport { Link } from \"react-router\";\nimport Loader from \"../../shared/Loader/Loader\";\n\nimport cartOperations from \"../../redux/cart/cart-operations\";\n\nconst Catalog = () => {\n  const filterButtons = [\n    { id: \"towels\", label: \"towels\" },\n    { id: \"bedding\", label: \"bedding\" },\n    { id: \"household-linens\", label: \"household linens\" },\n  ];\n  const dispatch = useDispatch();\n  const loading = useSelector(selectProductsLoading);\n  const totalPages = useSelector(selectProductsTotalPages);\n  const currentPage = useSelector(selectCurrentPage);\n  const products = useSelector(selectProducts);\n  const [activeLink, setActiveLink] = useState(\"\");\n  const [page, setPage] = useState(currentPage || 1);\n  const [searchParams] = useSearchParams();\n  const category = searchParams.get(\"category\");\n\n  useEffect(() => {\n    const fetch = async () => {\n      if (category) {\n        setActiveLink(category);\n        const result = await dispatch(\n          productsOperations.fetchProductsByCategory(category)\n        );\n        const newPage = result.payload?.currentPage;\n\n        setPage(newPage);\n      } else {\n        handleAllProducts();\n        setActiveLink(\"\");\n      }\n    };\n    fetch();\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page, activeLink, category]);\n\n  const handleAllProducts = async () => {\n    searchParams.delete(\"category\");\n    setActiveLink(\"\");\n    await dispatch(\n      productsOperations.fetchAllProducts({\n        page,\n      })\n    );\n  };\n\n  const handleChangePage = (e, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleFilter = async (category) => {\n    if (filterButtons.some((button) => button.id === category)) {\n      setActiveLink(category);\n      searchParams.set(\"category\", category);\n    }\n    await dispatch(productsOperations.fetchProductsByCategory(category));\n  };\n\n  const handleAddToCart = async (id) => {\n    await dispatch(\n      cartOperations.addCartProduct({ productId: id, quantity: 1 })\n    );\n  };\n\n  return (\n    <>\n      {loading ? (\n        <Loader />\n      ) : (\n        <CatalogSection>\n          <ContainerCatalog>\n            <CatalogWrapper>\n              <CatalogHeader >\n                <CatalogMainText\n                  onClick={handleAllProducts}\n                  style={{ cursor: \"pointer\" }}\n                >\n                  catalog\n                </CatalogMainText>\n                <CatalogFilterList>\n                  {filterButtons.map((button) => (\n                    <CatalogFilterButton\n                      key={button.id}\n                      onClick={() => handleFilter(button.id)}\n                      style={{\n                        textDecoration:\n                          activeLink === button.id ? \"underline\" : \"none\",\n                      }}\n                    >\n                      {button.label}\n                    </CatalogFilterButton>\n                  ))}\n                </CatalogFilterList>\n              </CatalogHeader>\n              <CatalogLine />\n\n              <CatalogAll>\n                <CatalogProductsList >\n                  {products && products.length > 0 ? (\n                    products.map((item) => (\n                      <CatalogProductsItem key={item._id}>\n                        <Link\n                          to={`/products/${item._id}`}\n                          style={{ display: \"flex\" }}\n                          state={{ id: item._id }}\n                        >\n                          <img\n                            src={item.image}\n                            alt={item.name}\n                            width={340}\n                            height={300}\n                          />\n                        </Link>\n                        <CatalogProductsItemWrap>\n                          <Link to={`/products/${item._id}`}>\n                            <CatalogProductsItemTextWrap>\n                              <CatalogProductsItemTextCode>\n                                {item.category}\n                              </CatalogProductsItemTextCode>\n                              <CatalogProductsItemTextName>\n                                {item.name}\n                              </CatalogProductsItemTextName>\n                              <CatalogProductsItemTextPrice>\n                                {item.price}\n                              </CatalogProductsItemTextPrice>\n                            </CatalogProductsItemTextWrap>\n                          </Link>\n                          <Link to=\"/basket\" state={{ id: item._id }}>\n                            <CatalogProductsBuyWrap\n                              onClick={() => handleAddToCart(item._id)}\n                            >\n                              <img src={Trolley} alt=\"Trolley\" />\n                            </CatalogProductsBuyWrap>\n                          </Link>\n                        </CatalogProductsItemWrap>\n                      </CatalogProductsItem>\n                    ))\n                  ) : (\n                    <div style={{ width: \"1440px\" }}>\n                      <p>No products found for this category</p>\n                    </div>\n                  )}\n                </CatalogProductsList>\n              </CatalogAll>\n            </CatalogWrapper>\n            {products && products.length > 0 && (\n              <div\n                style={{\n                  display: \"flex\",\n                  marginTop: \"60px\",\n                  marginBottom: \"200px\",\n                }}\n              >\n                <CatalogProductsPagination\n                  sx={{ margin: \"auto\" }}\n                  count={totalPages || 0}\n                  page={page}\n                  onChange={handleChangePage}\n                />\n              </div>\n            )}\n          </ContainerCatalog>\n        </CatalogSection>\n      )}\n    </>\n  );\n};\n\nexport default Catalog;\n","import React from 'react'\nimport Catalog from '../../components/Catalog/Catalog'\n\nconst CatalogPage = () => {\n  return (\n    <div>\n      <Catalog/>\n    </div>\n  )\n}\n\nexport default CatalogPage\n"],"names":["selectProducts","state","products","productsList","selectOneProduct","oneProduct","selectProductsTotalPages","totalPages","selectCurrentPage","currentPage","selectProductsLoading","isLoading","Catalog","filterButtons","id","label","dispatch","useDispatch","loading","useSelector","activeLink","setActiveLink","useState","page","setPage","searchParams","useSearchParams","category","get","useEffect","async","_result$payload","newPage","productsOperations","fetchProductsByCategory","payload","handleAllProducts","fetch","window","scrollTo","top","behavior","delete","fetchAllProducts","_jsx","_Fragment","children","Loader","CatalogSection","_jsxs","ContainerCatalog","CatalogWrapper","CatalogHeader","CatalogMainText","onClick","style","cursor","CatalogFilterList","map","button","CatalogFilterButton","some","set","handleFilter","textDecoration","CatalogLine","CatalogAll","CatalogProductsList","length","item","CatalogProductsItem","Link","to","_id","display","src","image","alt","name","width","height","CatalogProductsItemWrap","CatalogProductsItemTextWrap","CatalogProductsItemTextCode","CatalogProductsItemTextName","CatalogProductsItemTextPrice","price","CatalogProductsBuyWrap","cartOperations","addCartProduct","productId","quantity","handleAddToCart","Trolley","marginTop","marginBottom","CatalogProductsPagination","sx","margin","count","onChange","handleChangePage","e","CatalogPage"],"sourceRoot":""}